<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Encriptador de Texto</title>

	<link rel="stylesheet" type="text/css" href="stylesheet.css">

	<style>
		#myDIV {
  			width: 500px;
  			height: 500px;
  			background-color: lightblue;
		}
	</style>

</head>
<body>


	<header>
		<img src="https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,f_auto,q_auto:eco,dpr_1/dibk1ba07iflqhldupuz"
		style="
		position: absolute;
		width: 80px;
		height: 38px;
		left: 60px;
		top: 10px;

		" 	
		>
	</header>
<div class="gallery">
	<div class="gallery p-2">
		<h1 class="p-2">
			<textarea 
				id="myTextarea" 
				autocomplete="on"
				wrap="soft"
				maxlength="350"
				placeholder="Escribe tu mensaje" 
				></textarea>

		</h1>


		<div class="row p-1">

			<button type="button" onclick="encriptar()" class="btn btn-important">Encriptar</button>
			
		</div>

		<div class="row p-1">

			<button type="button" onclick="desencriptar()" class="btn btn-second">Desencriptar</button>
			
		</div>

		<div class="row p-1"><svg 
			xmlns="http://www.w3.org/2000/svg" 
			width="16" 
			height="16" 
			fill="currentColor" 
			class="bi bi-exclamation-circle-fill" 
			viewBox="0 0 16 16">
  			<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
		</svg> Solo se aceptan letras minúsculas y sin acentos
		</div>


	</div>

	<!-- CUADRO DE SALIDA -->	
	<div class="p-2" id="salida">

	 <p id="demo">
	 	<h3 class="text-center" id="titulo-in">Ningun mensaje fue encontrado</h3>
	 	<p class="text-center" id="frase-in">Ingresa el texto que desees encriptar o desencriptar</p></p>
	 	<button type="button" onclick="copy()" id="copy" class="circle">
	 		<svg xmlns="http://www.w3.org/2000/svg" 
	 			width="16" 
	 			height="16" 
	 			fill="currentColor" 
	 			class="bi bi-clipboard" 
	 			viewBox="0 0 16 16">

  			<path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path>
  			<path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path>

		</svg>
	</button>
	<textarea style="display:none;" id="myInput"></textarea>	
		
	</div>
</div>

	<!-- Footer 

	<footer class="container">

		<ul class="p-1">
			<li>Facebook</li>
			<li>Instagram</li>
			<li>Linkedin</li>

		</ul>
		<h4 class="p-1">By Antonio Gil</h4>
	</footer>

	-->


<script>
//HOLA MUNDO
function copy() {
  // Get the text field
  var copyText = document.getElementById("myInput");

  // Select the text field
  copyText.select();
  copyText.setSelectionRange(0, 99999); // For mobile devices

  // Copy the text inside the text field
  navigator.clipboard.writeText(copyText.value);
  
  // Alert the copied text
  alert("Copied the text: " + copyText.value);
}

function encriptar(){
	demoDisplay();
    myFunction();
}

function desencriptar(){
	demoDisplay();
    myFunction2();
}

function demoDisplay() {
  document.getElementById("frase-in").style.display = "none";
  document.getElementById("titulo-in").style.display = "none";
}

//Encriptar
function myFunction() {

	function encript(text){


			
			//realizo el mapeo mediante un objeto a cada vocal con su respectivo cambio
			var mapObj = {
   			a:"ai",
   			e:"enter",
   			i:"immes",
   			o:"outro",
   			u:"ufat"

			};

			//utilizo el método replace para hacer uso de las expresiones regulares a e i o u y que sustituya todas las variables con g.
			//la funcion recibe cada uno de los elementos del objeto anteriormente definido y cuando se alcance una letra definida en replace, esta letra será retornada para ser sustituida por replace.
			text = text.replace(/a|e|i|o|u/g, function(matched){
  			return mapObj[matched];
			});

			return text;
		

	}
    

	//tomamos los datos que se reciban en una etiqueta de html previamente identificada con el metodo getElementById y asignamos ese valor con el metodo value a una variable que definamos como "x"
  var x = document.getElementById("myTextarea").value;

  if (x === null ) {
  	console.log("hola no sirve")
  	document.getElementById("demo").innerHTML = "No se ha encontrado el mensaje";
  }
  else{
  	  //asignamos el retorno de la función encriptar a una variable llamada "enc"
  var enc = encript(x);
  //Y finalmente mostramos el contenido del retorno de la función encriptar en una etiqueta con fuente html identificada con la id demo
  document.getElementById("demo").innerHTML = enc;
  document.getElementById("myInput").innerHTML = enc;
  }

}

//Desencriptar
function myFunction2(){

	function dencript(text){

			

				let vocala = /ai/gi;
        let vocale = /enter/gi;
        let vocali = /immes/gi;
        let vocalo = /outro/gi;
        let vocalu = /ufat/gi;
        const newstr = text.replace(vocala, "a")
        .replace(vocalu,"u")
        .replace(vocalo,"o")
        .replace(vocale,"e")
        .replace(vocali,"i");
		
        
       
		return newstr;
		

	}


  var x = document.getElementById("myTextarea").value;
  denc = dencript(x);
  document.getElementById("demo").innerHTML = denc;
  document.getElementById("myInput").innerHTML = denc;
}

</script>

</body>
</html>
